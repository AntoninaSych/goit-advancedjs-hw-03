{"version":3,"file":"commonHelpers.js","sources":["../src/js/main.js"],"sourcesContent":["import 'izitoast/dist/css/iziToast.min.css';\nimport '../css/loader.css';\nimport SimpleLightbox from 'simplelightbox';\nimport iziToast from 'izitoast';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport $ from 'jquery';\n\nvar API_KEY = '45260330-4aac6e6a6c993f9154e4b36c5';\n\ndocument.addEventListener('DOMContentLoaded', function() {\n  var form = document.getElementById('search-form');\n  var loader = document.getElementById('loader');\n  var gallery = document.querySelector('.gallery');\n\n  form.addEventListener('submit', function(event) {\n    event.preventDefault();\n    var query = form.querySelector('input[name=\"searchQuery\"]').value.trim();\n\n    if (query === '') {\n      iziToast.error({\n        title: 'Error',\n        message: 'Please enter a search query.',\n        position: 'topRight'\n      });\n      return;\n    }\n\n    loader.classList.remove('hidden'); // Показать спиннер\n    gallery.innerHTML = ''; // Очистить галерею\n\n    var API_KEY = '45260330-4aac6e6a6c993f9154e4b36c5';\n    var URL = \"https://pixabay.com/api/?key=\" + API_KEY + \"&q=\" + encodeURIComponent(query) + \"&image_type=photo&orientation=horizontal&safesearch=true&per_page=12&page=1\";\n\n    fetch(URL)\n      .then(response => response.json())\n      .then(data => {\n        loader.classList.add('hidden'); // Скрыть спиннер\n        if (data.totalHits > 0) {\n          data.hits.forEach(hit => {\n            var photoCard = document.createElement('div');\n            photoCard.className = 'photo-card';\n            photoCard.innerHTML = `\n              <a href=\"${hit.largeImageURL}\" class=\"gallery-link\">\n                <img src=\"${hit.previewURL}\" alt=\"${hit.tags}\" loading=\"lazy\" />\n              </a>\n              <div class=\"info\">\n                <p class=\"info-item\"><b>Likes</b> ${hit.likes}</p>\n                <p class=\"info-item\"><b>Views</b> ${hit.views}</p>\n                <p class=\"info-item\"><b>Comments</b> ${hit.comments}</p>\n                <p class=\"info-item\"><b>Downloads</b> ${hit.downloads}</p>\n              </div>\n            `;\n            gallery.appendChild(photoCard);\n          });\n          var lightbox = new SimpleLightbox('.gallery a');\n          lightbox.refresh();\n        } else {\n          iziToast.error({\n            title: 'No results',\n            message: 'Sorry, there are no images matching your search query. Please try again!',\n            position: 'topRight',\n            timeout: 5000\n          });\n        }\n      })\n      .catch(error => {\n        loader.classList.add('hidden'); // Скрыть спиннер\n        console.error(\"Request Failed:\", error);\n        iziToast.error({\n          title: 'Error',\n          message: 'An error occurred while fetching images.',\n          position: 'topRight',\n          timeout: 5000\n        });\n      });\n  });\n});\n"],"names":["form","loader","gallery","event","query","iziToast","API_KEY","URL","response","data","hit","photoCard","lightbox","SimpleLightbox","error"],"mappings":"6vBASA,SAAS,iBAAiB,mBAAoB,UAAW,CACvD,IAAIA,EAAO,SAAS,eAAe,aAAa,EAC5CC,EAAS,SAAS,eAAe,QAAQ,EACzCC,EAAU,SAAS,cAAc,UAAU,EAE/CF,EAAK,iBAAiB,SAAU,SAASG,EAAO,CAC9CA,EAAM,eAAc,EACpB,IAAIC,EAAQJ,EAAK,cAAc,2BAA2B,EAAE,MAAM,OAElE,GAAII,IAAU,GAAI,CAChBC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,+BACT,SAAU,UAClB,CAAO,EACD,MACD,CAEDJ,EAAO,UAAU,OAAO,QAAQ,EAChCC,EAAQ,UAAY,GAEpB,IAAII,EAAU,qCACVC,EAAM,gCAAkCD,EAAU,MAAQ,mBAAmBF,CAAK,EAAI,8EAE1F,MAAMG,CAAG,EACN,KAAKC,GAAYA,EAAS,MAAM,EAChC,KAAKC,GAAQ,CAEZ,GADAR,EAAO,UAAU,IAAI,QAAQ,EACzBQ,EAAK,UAAY,EAAG,CACtBA,EAAK,KAAK,QAAQC,GAAO,CACvB,IAAIC,EAAY,SAAS,cAAc,KAAK,EAC5CA,EAAU,UAAY,aACtBA,EAAU,UAAY;AAAA,yBACTD,EAAI,aAAa;AAAA,4BACdA,EAAI,UAAU,UAAUA,EAAI,IAAI;AAAA;AAAA;AAAA,oDAGRA,EAAI,KAAK;AAAA,oDACTA,EAAI,KAAK;AAAA,uDACNA,EAAI,QAAQ;AAAA,wDACXA,EAAI,SAAS;AAAA;AAAA,cAGzDR,EAAQ,YAAYS,CAAS,CACzC,CAAW,EACD,IAAIC,EAAW,IAAIC,EAAe,YAAY,EAC9CD,EAAS,QAAO,CAC1B,MACUP,EAAS,MAAM,CACb,MAAO,aACP,QAAS,2EACT,SAAU,WACV,QAAS,GACrB,CAAW,CAEX,CAAO,EACA,MAAMS,GAAS,CACdb,EAAO,UAAU,IAAI,QAAQ,EAC7B,QAAQ,MAAM,kBAAmBa,CAAK,EACtCT,EAAS,MAAM,CACb,MAAO,QACP,QAAS,2CACT,SAAU,WACV,QAAS,GACnB,CAAS,CACT,CAAO,CACP,CAAG,CACH,CAAC"}